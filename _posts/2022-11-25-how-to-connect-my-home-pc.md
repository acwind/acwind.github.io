---

title: 记一次远程连接家里电脑的折腾
categories:
- 代码人生
key: f49c35ea-1ac7-11ed-861d-0242ac120009

---

![远程控制是未来的生存技能之一](https://icdb-images.oss-cn-hangzhou.aliyuncs.com/other/Pantheon.jpg)

11月中旬重庆疫情严重封控，一直在渝北的家中无法出门，我的工作电脑（Mac mini）在另一头江北的小区家里，处于关机状态，两地相隔约10公里。

后来机缘巧合，联系到了小区同楼的姐姐，帮我照顾了猫，还给我开启了一下家里的电脑。（实在是太感谢）

然后问题来了，我如何远程连接到这台Mac mini呢？一直是用的frp方法，Mac mini 开启 VNC Server， frp 分配端口，在外用 VNC 客户端连接。但目前发现这种方法无效, frp server 没有收到来自客户端的任何连接，无法连上家里的电脑。

于是开始折腾。想到家里的群晖NAS可以在外网登录，是否可以装一个 Terminal 的终端来 ssh 到内网的机器呢？研究了半天无果，于是准备在群晖上架设一个 frp 的客户端试试。 这个功能需要 Docker 的支持，在套件中心没有发现 Docker，捣鼓了很久才发现我的这个群晖（DS220j）不支持 Docker！

当时为了省钱买的DS220j，很多功能都不支持，看来“只选贵的”的理念还是有一定道理的。但发现群晖是支持 ssh 方式的登录的，不过没有外网 IP ，我也 ssh 不上去家里的群晖。

于是想到了向日葵的方案，注册登录又一阵折腾，中间还有实名人脸验证，然后在群晖套件中安装向日葵。DS220j的套件中心又是搜索不到向日葵！比起Docker，至少还可以在网上下载单独的安装包，所幸安装还顺利，终于把向日葵的外网端口绑定到了家里群晖的 ssh 22端口，可以正常登录上去！

登录上以后，ping 了一下家里的 Mac mini，一切正常。Mac mini 没有开启ssh登录功能，但是我可以VNC啊！向日葵免费版支持绑定两个端口，一个给了群晖的 ssh （22），另一个我就绑定了 Mac mini 的VNC端口（5900）。

向日葵免费版给的流量和宽带非常低，以龟速的方式 VNC 到了家里电脑的桌面，以比《疯狂动物城》里树懒们还要慢的速度，开启了 Parsec……

然后就是 happy ending，关掉龟速的VNC，用Parsec开始了愉快的远程工作。

至此完毕，回想一下，还真是折腾，记录一下，方便以后还需要折腾的时候回顾。
